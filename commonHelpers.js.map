{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector(`.submit-form`);\nconst list = document.querySelector(`.gallery`);\nform.addEventListener(`submit`, searchRequest);\n\n\nfunction searchRequest(evt) {\n    // evt.preventDefault();\n    const characteristics = evt.currentTarget.elements.search.value;\n    getRequest(characteristics)\n        .then(data => (list.innerHTML = createMarkup(data.hits)))\n        .catch(err => console.log(err))\n\n}\n\nfunction createMarkup(arr) {\n    if (arr.total === 0) {\n    iziToast.show({\n    message: '❌ Sorry, there are no images matching your search query. Please try again!'\n    });\n    }\n    else {\n        return arr.map( ({webformatURL, largeImageURL, tags, likes, views, comments, downloads} ) => `\n        <li class=\"gallery-item\">\n          <img\n            srcset='${webformatURL} 1x, ${largeImageURL} 2x'\n            src='${webformatURL}'\n            alt='${tags}'\n          />\n        </li>\n         <div class=\"gallery-stats\">\n            <li class=\"gallery-stats-item\">\n              <h3 class=\"stats-head\">Likes</h3>\n              <p class=\"stats-indicator\">${likes}</p>\n            </li>\n            <li class=\"gallery-stats-item\">\n              <h3 class=\"stats-head\">Views</h3>\n              <p class=\"stats-indicator\">${views}</p>\n            </li>\n            <li class=\"gallery-stats-item\">\n              <h3 class=\"stats-head\">Comments</h3>\n              <p class=\"stats-indicator\">${comments}</p>\n            </li>\n            <li class=\"gallery-stats-item\">\n              <h3 class=\"stats-head\">Downloads</h3>\n              <p class=\"stats-indicator\">${downloads}</p>\n            </li>\n          </div>`).join(``)\n    }\n}\n\nfunction getRequest(characteristics) {\n\n    const BASE_URL = `https://pixabay.com/api/`;\n    const API_KEY = `41768952-3eb5a1819d194e4ebd739434d`\n    return fetch(`${BASE_URL}?key=${API_KEY}&q=${characteristics}&image_type=photo&orientation=horizontal&safesearch=true`)\n        .then(resp => {\n            if (!resp.ok) {\n            throw new Error(resp.statusText)\n            }\n            console.dir(resp)\n            return resp.json()\n    })\n\n}\n\n\n\n"],"names":["form","list","searchRequest","evt","characteristics","getRequest","data","createMarkup","err","arr","iziToast","webformatURL","largeImageURL","tags","likes","views","comments","downloads","resp"],"mappings":"svBAKA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAO,SAAS,cAAc,UAAU,EAC9CD,EAAK,iBAAiB,SAAUE,CAAa,EAG7C,SAASA,EAAcC,EAAK,CAExB,MAAMC,EAAkBD,EAAI,cAAc,SAAS,OAAO,MAC1DE,EAAWD,CAAe,EACrB,KAAKE,GAASL,EAAK,UAAYM,EAAaD,EAAK,IAAI,CAAE,EACvD,MAAME,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAEtC,CAEA,SAASD,EAAaE,EAAK,CACvB,GAAIA,EAAI,QAAU,EAClBC,EAAS,KAAK,CACd,QAAS,4EACb,CAAK,MAGG,QAAOD,EAAI,IAAK,CAAC,CAAC,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA;AAAA,sBAG/EN,SAAoBC;AAAA,mBACvBD;AAAA,mBACAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAMwBC;AAAA;AAAA;AAAA;AAAA,2CAIAC;AAAA;AAAA;AAAA;AAAA,2CAIAC;AAAA;AAAA;AAAA;AAAA,2CAIAC;AAAA;AAAA,iBAE1B,EAAE,KAAK,EAAE,CAE1B,CAEA,SAASZ,EAAWD,EAAiB,CAIjC,OAAO,MAAM,qEAAgCA,2DAAyE,EACjH,KAAKc,GAAQ,CACV,GAAI,CAACA,EAAK,GACV,MAAM,IAAI,MAAMA,EAAK,UAAU,EAE/B,eAAQ,IAAIA,CAAI,EACTA,EAAK,KAAM,CAC9B,CAAK,CAEL"}